# forked from https://cf.buliang0.cf/shadowrocket-rules/nodnsleak-pk.ini
# Shadowrocketé…ç½®æ–‡ä»¶,è§£å†³DNSæ³„éœ²

[custom]
# è§„åˆ™åŒ¹é…çš„ä¼˜å…ˆçº§ï¼š
# 1.è§„åˆ™ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡åŒ¹é…ã€‚
# 2.åŸŸåè§„åˆ™ä¼˜å…ˆäºIPè§„åˆ™ã€‚
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]DOMAIN-SUFFIX,xn--ngstr-lra8j.com
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]DOMAIN-SUFFIX,services.googleapis.cn
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleCNProxyIP.list
# ä»£ç†ç­–ç•¥çš„ä¿®æ­£è§„åˆ™é›†ã€‚
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,https://raw.githubusercontent.com/wlxuf/add_rule/main/proxy-amend.list

# ç›´è¿ç­–ç•¥çš„ä¿®æ­£è§„åˆ™é›†ã€‚
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/wlxuf/add_rule/main/direct-amend.list

# æœ¬åœ°å±€åŸŸç½‘åœ°å€çš„è§„åˆ™é›†ã€‚
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Lan/Lan.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list
# å¯èƒ½è¢«å»å¹¿å‘Šè¯¯ä¼¤çš„åŸŸå
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list

;å»å¹¿å‘Š
ruleset=REJECT,https://gh-proxy.com/https://raw.githubusercontent.com/privacy-protection-tools/anti-AD/master/anti-ad-clash.yaml
ruleset=REJECT,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list
ruleset=REJECT,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list

# å›½å†…å¸¸ç”¨æœåŠ¡å•ç‹¬åˆ†æµï¼šè‹¹æœæœåŠ¡ï¼Œå¾®è½¯æœåŠ¡ï¼Œå“”å“©å“”å“©ï¼Œç½‘æ˜“äº‘éŸ³ä¹ï¼Œæ¸¸æˆå¹³å°ï¼Œäºšé©¬é€Šï¼Œç™¾åº¦ï¼Œè±†ç“£ï¼Œå¾®ä¿¡ï¼ŒæŠ–éŸ³ï¼Œæ–°æµªï¼ŒçŸ¥ä¹ï¼Œå°çº¢ä¹¦ã€‚
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Apple/Apple.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/BiliBili/BiliBili.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/NetEaseMusic/NetEaseMusic.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Baidu/Baidu.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/DouBan/DouBan.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/WeChat/WeChat.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/DouYin/DouYin.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Sina/Sina.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Zhihu/Zhihu.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/XiaoHongShu/XiaoHongShu.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Sony/Sony.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Nintendo/Nintendo.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Epic/Epic.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/SteamCN/SteamCN.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Steam/Steam.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Game/Game.list
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/GitHub/GitHub.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Microsoft/Microsoft.list

ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaMedia.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaIp.list

# è¡¨ç¤ºCNåœ°åŒºçš„IPåˆ†æµèµ°ç›´è¿ï¼ŒGEOIPæ•°æ®åº“ç”¨æ¥åˆ¤æ–­IPæ˜¯å¦å±äºCNåœ°åŒºã€‚é»˜è®¤ä½¿ç”¨Shadowrocketè‡ªå¸¦çš„GEOIPæ•°æ®åº“ï¼Œå¦‚æœæ‚¨æƒ³æ›¿æ¢å…¶ä»–æ•°æ®åº“ï¼Œå¯åœ¨ è®¾ç½® - GeoLite2æ•°æ®åº“ é‡Œæ·»åŠ å’Œä¿®æ”¹ã€‚
ruleset=DIRECT,[]GEOIP,CN,no-resolve
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]FINAL

[Host]
# åŸŸåæŒ‡å®šæœ¬åœ°å€¼ï¼š
# example.com=1.2.3.4
# åŸŸåæŒ‡å®šDNSæœåŠ¡å™¨ï¼š
# example.com=server:1.2.3.4
# wifiåç§°æŒ‡å®šDNSæœåŠ¡å™¨ï¼Œå¦‚éœ€æŒ‡å®šå¤šä¸ªDNSï¼Œå¯ç”¨é€—å·åˆ†éš”ï¼š
# ssid:wifiåç§°=server:1.2.3.4
# ----------
*.apple.com=server:system
*.apple.cn=server:system
*.cdn-apple.com=server:system
*.icloud.com=server:system
*.icloud-content.com=server:system
localhost = 127.0.0.1

[URL Rewrite]
^https?://(www.)?g.cn https://www.google.com 302
^https?://(www.)?google.cn https://www.google.com 302
